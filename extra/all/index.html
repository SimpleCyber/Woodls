<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Hotkey Voice Recorder + Whisper STT</title>
    <style>
      body { font-family: Inter, Arial, sans-serif; padding: 18px; }
      .btn { padding: 8px 12px; margin: 6px 6px 6px 0; cursor: pointer; border-radius: 6px; border: 1px solid #ccc; background: #f3f3f3; }
      #captureArea { padding: 12px; border: 1px solid #e0e0e0; background: #fff; margin-top: 12px; }
      #logs { margin-top: 14px; padding: 10px; height: 260px; overflow-y: auto; border: 1px solid #ddd; background: #fbfbfb; }
      .log-item { padding: 6px; border-bottom: 1px dashed #eee; }
      h2 { margin-bottom: 6px; }
      label { margin-right: 10px; }
      textarea { width: 100%; }
      .status { font-weight: 600; margin-top: 6px; }
      .small { font-size: 13px; color: #666; }
    </style>
  </head>
  <body>
    <h2>Hotkey Voice Recorder + Local Whisper STT</h2>

    <div>
      <label>
        Mode:
        <select id="mode">
          <option value="single">Single Key</option>
          <option value="combo">Strict Combo</option>
        </select>
      </label>

      <button id="startCapture" class="btn">Set Hotkey</button>
      <button id="clearHotkey" class="btn">Clear Hotkey</button>

      <div id="hotkeyDisplay" style="display:inline-block; margin-left: 12px; font-weight:700;">
        No hotkey set
      </div>
    </div>

    <div id="captureArea" style="display:none; margin-top:12px;">
      <div><b>Capturing keys — press the key(s) you want</b></div>
      <div style="margin-top:8px;">Captured: <span id="capturedKeys">[]</span></div>
      <div style="margin-top:10px;">
        <button id="saveHotkey" class="btn">Save</button>
        <button id="cancelCapture" class="btn">Cancel</button>
      </div>
      <div style="margin-top:8px;" class="small">For combo mode press all keys together (strict combo). Then click Save.</div>
    </div>

    <h3 style="margin-top:18px;">Logs</h3>
    <div id="logs"></div>

    <hr style="margin-top:18px;" />

    <!-- TEXT TO SPEECH -->
    <h3>Text to Speech</h3>
    <textarea id="ttsInput" rows="3"></textarea>
    <div style="margin-top:8px;">
      <button id="ttsSpeak" class="btn">Speak</button>
      <button id="ttsStop" class="btn">Stop</button>
    </div>

    <hr style="margin-top:18px;" />

    <!-- SPEECH TO TEXT -->
    <h3>Speech to Text (Hold Hotkey to record)</h3>
    <div id="sttStatus" class="status">Status: Idle</div>
    <div class="small" style="margin-top:6px;">Detected Language: <span id="sttLang">—</span></div>
    <div style="margin-top:8px;">
      <div id="sttResult" style="font-weight:600; margin-top:8px;">Transcript will appear here.</div>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
